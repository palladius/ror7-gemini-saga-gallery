import{Controller as e}from"@hotwired/stimulus";import{formatDistanceToNow as i}from"date-fns";const t=class _Timeago extends e{initialize(){this.isValid=!0}connect(){this.load(),this.hasRefreshIntervalValue&&this.isValid&&this.startRefreshing()}disconnect(){this.stopRefreshing()}load(){const e=this.datetimeValue,t=Date.parse(e),s={includeSeconds:this.includeSecondsValue,addSuffix:this.addSuffixValue,locale:this.locale};Number.isNaN(t)&&(this.isValid=!1,console.error(`[@stimulus-components/timeago] Value given in 'data-timeago-datetime' is not a valid date (${e}). Please provide a ISO 8601 compatible datetime string. Displaying given value instead.`)),this.element.dateTime=e,this.element.innerHTML=this.isValid?i(t,s):e}startRefreshing(){this.refreshTimer=setInterval((()=>{this.load()}),this.refreshIntervalValue)}stopRefreshing(){this.refreshTimer&&clearInterval(this.refreshTimer)}};t.values={datetime:String,refreshInterval:Number,includeSeconds:Boolean,addSuffix:Boolean};let s=t;export{s as default};

